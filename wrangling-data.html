<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Wrangling data | Cleaning &amp; Wrangling Data</title>
  <meta name="description" content="4 Wrangling data | Cleaning &amp; Wrangling Data" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Wrangling data | Cleaning &amp; Wrangling Data" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Wrangling data | Cleaning &amp; Wrangling Data" />
  
  
  

<meta name="author" content="D. Contreras" />


<meta name="date" content="2025-02-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning-data.html"/>
<link rel="next" href="the-payoff.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="acquiring-data.html"><a href="acquiring-data.html"><i class="fa fa-check"></i><b>2</b> Acquiring data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="acquiring-data.html"><a href="acquiring-data.html#reading-tabular-data"><i class="fa fa-check"></i><b>2.1</b> Reading tabular data</a></li>
<li class="chapter" data-level="2.2" data-path="acquiring-data.html"><a href="acquiring-data.html#scraping-.pdfs"><i class="fa fa-check"></i><b>2.2</b> Scraping .pdfs</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cleaning-data.html"><a href="cleaning-data.html"><i class="fa fa-check"></i><b>3</b> Cleaning data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cleaning-data.html"><a href="cleaning-data.html#columnvariable-management"><i class="fa fa-check"></i><b>3.1</b> Column/variable management</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="cleaning-data.html"><a href="cleaning-data.html#removing-columns-with-select"><i class="fa fa-check"></i><b>3.1.1</b> Removing columns with <code>select()</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="cleaning-data.html"><a href="cleaning-data.html#changing-column-classes-and-adding-columns-with-mutate"><i class="fa fa-check"></i><b>3.1.2</b> Changing column classes and adding columns with <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cleaning-data.html"><a href="cleaning-data.html#putting-it-into-practice"><i class="fa fa-check"></i><b>3.2</b> Putting it into practice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wrangling-data.html"><a href="wrangling-data.html"><i class="fa fa-check"></i><b>4</b> Wrangling data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="wrangling-data.html"><a href="wrangling-data.html#case_when"><i class="fa fa-check"></i><b>4.1</b> <code>case_when()</code></a></li>
<li class="chapter" data-level="4.2" data-path="wrangling-data.html"><a href="wrangling-data.html#left_join"><i class="fa fa-check"></i><b>4.2</b> <code>left_join()</code></a></li>
<li class="chapter" data-level="4.3" data-path="wrangling-data.html"><a href="wrangling-data.html#separate"><i class="fa fa-check"></i><b>4.3</b> <code>separate()</code></a></li>
<li class="chapter" data-level="4.4" data-path="wrangling-data.html"><a href="wrangling-data.html#bind_rows"><i class="fa fa-check"></i><b>4.4</b> <code>bind_rows()</code></a></li>
<li class="chapter" data-level="4.5" data-path="wrangling-data.html"><a href="wrangling-data.html#group_by-and-summarize"><i class="fa fa-check"></i><b>4.5</b> <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="4.6" data-path="wrangling-data.html"><a href="wrangling-data.html#pivot_wider-and-pivot_longer"><i class="fa fa-check"></i><b>4.6</b> <code>pivot_wider()</code> and <code>pivot_longer()</code></a></li>
<li class="chapter" data-level="4.7" data-path="wrangling-data.html"><a href="wrangling-data.html#combining-information"><i class="fa fa-check"></i><b>4.7</b> Combining information</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-payoff.html"><a href="the-payoff.html"><i class="fa fa-check"></i><b>5</b> The payoff</a>
<ul>
<li class="chapter" data-level="5.1" data-path="the-payoff.html"><a href="the-payoff.html#visualizing-the-data"><i class="fa fa-check"></i><b>5.1</b> Visualizing the data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="the-payoff.html"><a href="the-payoff.html#prop-plot"><i class="fa fa-check"></i><b>5.1.1</b> Source proportions plotted by artifact type and site</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="the-payoff.html"><a href="the-payoff.html#next-steps-after-exploratory-visualization"><i class="fa fa-check"></i><b>5.2</b> Next steps after exploratory visualization</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="the-payoff.html"><a href="the-payoff.html#diversity-indices"><i class="fa fa-check"></i><b>5.2.1</b> Diversity indices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resourcestutorials.html"><a href="resourcestutorials.html"><i class="fa fa-check"></i><b>6</b> Resources/Tutorials</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Cleaning &amp; Wrangling Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Wrangling data<a href="wrangling-data.html#wrangling-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>One common task is to reformat and/or integrate information that has been stored inconveniently. Sometimes this involves combining or splitting columns because we’re unsatisfied with how data have been recorded. Other times this is because the data formats for recording, communicating, and analyzing data match rather imperfectly. Very often it’s sensible and efficient to <em>record</em> data in <em>wide format</em> (each row a case containing observations about that case stored in columns), <em>review</em> and/or <em>communicate</em> it in <em>summary</em> format (cased grouped by some shared value of a given variable), and <em>analyze</em> it in <em>long</em> format (each row a unique combination of case, variable, and value).</p>
<p>In the case of Table 6.1b, there’s information stored in the second sheet that we might like to include in our table. Because there’s not much of it, we can do this manually, by using <code>case_when()</code> to populate a new column . We’ll also explore automating the process, which you would want to do with there were 30 rows rather than 3.</p>
<div id="case_when" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> <code>case_when()</code><a href="wrangling-data.html#case_when" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First we’ll use <strong>dplyr</strong>’s <code>case_when()</code> function, which is effectively a version of <code>if_else()</code>. We’ll combine it with <code>mutate()</code> to make a new column, and then populate that column depending on the value associated in another table. What we’re doing in R working out way down the rows of Table 6.1b, checking the site, then looking at Table 6.1b Sheet 2 to see what period that site belongs to, and filling that information in a new column.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="wrangling-data.html#cb26-1" tabindex="-1"></a>drennan6<span class="fl">.1</span>b_2</span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Site          Period           `Area (ha)`
##   &lt;chr&gt;         &lt;chr&gt;                  &lt;dbl&gt;
## 1 Oak Grove     Middle Formative         2.2
## 2 Maple Knoll   Middle Formative         2.9
## 3 Cypress Swamp Late Formative           4.1</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="wrangling-data.html#cb28-1" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Period =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-2"><a href="wrangling-data.html#cb28-2" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Oak Grove&quot;</span> <span class="sc">~</span> <span class="st">&quot;Middle Formative&quot;</span>,</span>
<span id="cb28-3"><a href="wrangling-data.html#cb28-3" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Maple Knoll&quot;</span> <span class="sc">~</span> <span class="st">&quot;Middle Formative&quot;</span>,</span>
<span id="cb28-4"><a href="wrangling-data.html#cb28-4" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Cypress Swamp&quot;</span> <span class="sc">~</span> <span class="st">&quot;Late Formative&quot;</span></span>
<span id="cb28-5"><a href="wrangling-data.html#cb28-5" tabindex="-1"></a>))</span></code></pre></div>
<pre><code>## # A tibble: 140 × 6
##    Site          Unit  Incised Unincised PropIncised Period          
##    &lt;fct&gt;         &lt;fct&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;           
##  1 Oak Grove     OG-29      31        86       0.265 Middle Formative
##  2 Maple Knoll   MK-13      21        81       0.206 Middle Formative
##  3 Cypress Swamp CS-40      43        84       0.339 Late Formative  
##  4 Cypress Swamp CS-38      35        97       0.265 Late Formative  
##  5 Cypress Swamp CS-12      29        87       0.25  Late Formative  
##  6 Cypress Swamp CS-37      17        96       0.150 Late Formative  
##  7 Cypress Swamp CS-19      37       115       0.243 Late Formative  
##  8 Oak Grove     OG-42      39       111       0.26  Middle Formative
##  9 Oak Grove     OG-4       25       101       0.198 Middle Formative
## 10 Maple Knoll   MK-26      14        94       0.130 Middle Formative
## # ℹ 130 more rows</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="wrangling-data.html#cb30-1" tabindex="-1"></a><span class="co">#repeat for area</span></span>
<span id="cb30-2"><a href="wrangling-data.html#cb30-2" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Area =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-3"><a href="wrangling-data.html#cb30-3" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Oak Grove&quot;</span> <span class="sc">~</span> <span class="fl">2.2</span>, <span class="co">#numeric so shouldn&#39;t be in &quot;&quot;</span></span>
<span id="cb30-4"><a href="wrangling-data.html#cb30-4" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Maple Knoll&quot;</span> <span class="sc">~</span> <span class="fl">2.9</span>,</span>
<span id="cb30-5"><a href="wrangling-data.html#cb30-5" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Cypress Swamp&quot;</span> <span class="sc">~</span> <span class="fl">4.1</span></span>
<span id="cb30-6"><a href="wrangling-data.html#cb30-6" tabindex="-1"></a>))</span></code></pre></div>
<pre><code>## # A tibble: 140 × 6
##    Site          Unit  Incised Unincised PropIncised  Area
##    &lt;fct&gt;         &lt;fct&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;
##  1 Oak Grove     OG-29      31        86       0.265   2.2
##  2 Maple Knoll   MK-13      21        81       0.206   2.9
##  3 Cypress Swamp CS-40      43        84       0.339   4.1
##  4 Cypress Swamp CS-38      35        97       0.265   4.1
##  5 Cypress Swamp CS-12      29        87       0.25    4.1
##  6 Cypress Swamp CS-37      17        96       0.150   4.1
##  7 Cypress Swamp CS-19      37       115       0.243   4.1
##  8 Oak Grove     OG-42      39       111       0.26    2.2
##  9 Oak Grove     OG-4       25       101       0.198   2.2
## 10 Maple Knoll   MK-26      14        94       0.130   2.9
## # ℹ 130 more rows</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="wrangling-data.html#cb32-1" tabindex="-1"></a><span class="co">#can also combine these</span></span>
<span id="cb32-2"><a href="wrangling-data.html#cb32-2" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb32-3"><a href="wrangling-data.html#cb32-3" tabindex="-1"></a>  <span class="at">Period =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-4"><a href="wrangling-data.html#cb32-4" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Oak Grove&quot;</span> <span class="sc">~</span> <span class="st">&quot;Middle Formative&quot;</span>,</span>
<span id="cb32-5"><a href="wrangling-data.html#cb32-5" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Maple Knoll&quot;</span> <span class="sc">~</span> <span class="st">&quot;Middle Formative&quot;</span>,</span>
<span id="cb32-6"><a href="wrangling-data.html#cb32-6" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Cypress Swamp&quot;</span> <span class="sc">~</span> <span class="st">&quot;Late Formative&quot;</span>),</span>
<span id="cb32-7"><a href="wrangling-data.html#cb32-7" tabindex="-1"></a>  <span class="at">Area =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-8"><a href="wrangling-data.html#cb32-8" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Oak Grove&quot;</span> <span class="sc">~</span> <span class="fl">2.2</span>, <span class="co">#numeric so shouldn&#39;t be in &quot;&quot;</span></span>
<span id="cb32-9"><a href="wrangling-data.html#cb32-9" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Maple Knoll&quot;</span> <span class="sc">~</span> <span class="fl">2.9</span>,</span>
<span id="cb32-10"><a href="wrangling-data.html#cb32-10" tabindex="-1"></a>  Site <span class="sc">==</span> <span class="st">&quot;Cypress Swamp&quot;</span> <span class="sc">~</span> <span class="fl">4.1</span></span>
<span id="cb32-11"><a href="wrangling-data.html#cb32-11" tabindex="-1"></a>))</span></code></pre></div>
<pre><code>## # A tibble: 140 × 7
##    Site          Unit  Incised Unincised PropIncised Period            Area
##    &lt;fct&gt;         &lt;fct&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
##  1 Oak Grove     OG-29      31        86       0.265 Middle Formative   2.2
##  2 Maple Knoll   MK-13      21        81       0.206 Middle Formative   2.9
##  3 Cypress Swamp CS-40      43        84       0.339 Late Formative     4.1
##  4 Cypress Swamp CS-38      35        97       0.265 Late Formative     4.1
##  5 Cypress Swamp CS-12      29        87       0.25  Late Formative     4.1
##  6 Cypress Swamp CS-37      17        96       0.150 Late Formative     4.1
##  7 Cypress Swamp CS-19      37       115       0.243 Late Formative     4.1
##  8 Oak Grove     OG-42      39       111       0.26  Middle Formative   2.2
##  9 Oak Grove     OG-4       25       101       0.198 Middle Formative   2.2
## 10 Maple Knoll   MK-26      14        94       0.130 Middle Formative   2.9
## # ℹ 130 more rows</code></pre>
</div>
<div id="left_join" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> <code>left_join()</code><a href="wrangling-data.html#left_join" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Note that, as above, without a <code>&lt;-</code> we are not saving our new, improved object. Not to worry - we’ll produce it again - more efficiently - and save that. To do so we’ll use a <em>join</em>, which updates one table based on information in another, using shared values to define a relationship. There are multiple types of joins (inner/outer, left/right/full) that can be carried out in various ways (see <code>?join</code>), and their implementation can get tricky. We’ll use a left join (<code>left_join()</code>), which takes the first table (‘x’), and searches a second table (‘y’) for matching values in shared (or specified) columns. That is, if both <code>x</code> and <code>y</code> have a column <code>z</code>, <code>left_join()</code> searches <code>x$z</code>, and if a value of <code>"a"</code> is present in both <code>x$z</code> and <code>y$z</code>, it takes whatever other information is in that row of <code>y</code> and appends it to the matching row in <code>x</code>. That’s probably hard to follow in the abstract, but have a look at how it works:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="wrangling-data.html#cb34-1" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(drennan6<span class="fl">.1</span>b_2, <span class="at">by =</span> <span class="st">&quot;Site&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 140 × 7
##    Site          Unit  Incised Unincised PropIncised Period          `Area (ha)`
##    &lt;chr&gt;         &lt;fct&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
##  1 Oak Grove     OG-29      31        86       0.265 Middle Formati…         2.2
##  2 Maple Knoll   MK-13      21        81       0.206 Middle Formati…         2.9
##  3 Cypress Swamp CS-40      43        84       0.339 Late Formative          4.1
##  4 Cypress Swamp CS-38      35        97       0.265 Late Formative          4.1
##  5 Cypress Swamp CS-12      29        87       0.25  Late Formative          4.1
##  6 Cypress Swamp CS-37      17        96       0.150 Late Formative          4.1
##  7 Cypress Swamp CS-19      37       115       0.243 Late Formative          4.1
##  8 Oak Grove     OG-42      39       111       0.26  Middle Formati…         2.2
##  9 Oak Grove     OG-4       25       101       0.198 Middle Formati…         2.2
## 10 Maple Knoll   MK-26      14        94       0.130 Middle Formati…         2.9
## # ℹ 130 more rows</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="wrangling-data.html#cb36-1" tabindex="-1"></a><span class="co">#if we don&#39;t specify `by=`, `left_join()` will guess based on column names</span></span>
<span id="cb36-2"><a href="wrangling-data.html#cb36-2" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="ot">&lt;-</span> drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(drennan6<span class="fl">.1</span>b_2)</span></code></pre></div>
</div>
<div id="separate" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> <code>separate()</code><a href="wrangling-data.html#separate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Suppose that we sometimes want to lump all of these sites as belonging to the Formative Period, and other times we want to separate according to whether they’re Middle Formative or Late Formative? This would be simpler if we had a ‘Period’ column and a second ‘Subperiod’ column. There’s a convenient function for this is the <strong>tidyr</strong> package (another of the tendrils of the tidyverse).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="wrangling-data.html#cb37-1" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb37-2"><a href="wrangling-data.html#cb37-2" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">separate</span>(Period, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;Subperiod&quot;</span>, <span class="st">&quot;Period&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 140 × 8
##    Site         Unit  Incised Unincised PropIncised Subperiod Period `Area (ha)`
##    &lt;chr&gt;        &lt;fct&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;dbl&gt;
##  1 Oak Grove    OG-29      31        86       0.265 Middle    Forma…         2.2
##  2 Maple Knoll  MK-13      21        81       0.206 Middle    Forma…         2.9
##  3 Cypress Swa… CS-40      43        84       0.339 Late      Forma…         4.1
##  4 Cypress Swa… CS-38      35        97       0.265 Late      Forma…         4.1
##  5 Cypress Swa… CS-12      29        87       0.25  Late      Forma…         4.1
##  6 Cypress Swa… CS-37      17        96       0.150 Late      Forma…         4.1
##  7 Cypress Swa… CS-19      37       115       0.243 Late      Forma…         4.1
##  8 Oak Grove    OG-42      39       111       0.26  Middle    Forma…         2.2
##  9 Oak Grove    OG-4       25       101       0.198 Middle    Forma…         2.2
## 10 Maple Knoll  MK-26      14        94       0.130 Middle    Forma…         2.9
## # ℹ 130 more rows</code></pre>
</div>
<div id="bind_rows" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> <code>bind_rows()</code><a href="wrangling-data.html#bind_rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the case of the Eerkens et al. 2007 tables, joining is not what we want - the tables encode information about different sites, so we don’t want to take information from one table and fill it in to rows of another. Rather, we want to combine the tables by adding rows, and filling in columns with empty values where one table has a column and another does not.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="wrangling-data.html#cb39-1" tabindex="-1"></a>eerk_comb <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(eerk_tab1, eerk_tab2, eerk_tab3)</span>
<span id="cb39-2"><a href="wrangling-data.html#cb39-2" tabindex="-1"></a></span>
<span id="cb39-3"><a href="wrangling-data.html#cb39-3" tabindex="-1"></a><span class="co">#reorder columns of result</span></span>
<span id="cb39-4"><a href="wrangling-data.html#cb39-4" tabindex="-1"></a></span>
<span id="cb39-5"><a href="wrangling-data.html#cb39-5" tabindex="-1"></a>eerk_comb <span class="ot">&lt;-</span> eerk_comb <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(site, source_artifact, casa_diablo<span class="sc">:</span>whitewater_ridge)</span></code></pre></div>
<p>Now we can convert character columns to factors if appropriate.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="wrangling-data.html#cb40-1" tabindex="-1"></a>eerk_comb <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">site =</span> <span class="fu">factor</span>(site), </span>
<span id="cb40-2"><a href="wrangling-data.html#cb40-2" tabindex="-1"></a>                     <span class="at">source_artifact =</span> <span class="fu">factor</span>(source_artifact))</span></code></pre></div>
<pre><code>## # A tibble: 10 × 31
##    site           source_artifact   casa_diablo mono_glass_mountain truman_queen
##    &lt;fct&gt;          &lt;fct&gt;                   &lt;dbl&gt;               &lt;dbl&gt;        &lt;dbl&gt;
##  1 Sherwin Summit Formal Tools               51                  16           13
##  2 Sherwin Summit Large Flakes              166                  65           10
##  3 Sherwin Summit Small Non-pressu…          24                  10            2
##  4 Sherwin Summit Small Pressure F…           7                   3            7
##  5 Mohawk Valley  Formal Tools               NA                  NA           NA
##  6 Mohawk Valley  Large Flakes               NA                  NA           NA
##  7 Mohawk Valley  Small Flakes               NA                  NA            1
##  8 Bone Cave      Formal Tools               NA                  NA           NA
##  9 Bone Cave      Large Flakes               NA                  NA           NA
## 10 Bone Cave      Small Flakes               NA                  NA           NA
## # ℹ 26 more variables: fish_springs &lt;dbl&gt;, mono_craters &lt;dbl&gt;,
## #   bodie_hills &lt;dbl&gt;, mount_hicks &lt;dbl&gt;, coso &lt;dbl&gt;, buffalo_hills &lt;dbl&gt;,
## #   south_warners &lt;dbl&gt;, bs_pp_fm &lt;dbl&gt;, gf_liw_rs &lt;dbl&gt;, cowhead_lake &lt;dbl&gt;,
## #   cougar_butte &lt;dbl&gt;, buck_mountain &lt;dbl&gt;, napa_glass_mountain &lt;dbl&gt;,
## #   borax_lake &lt;dbl&gt;, obsidian_cliffs &lt;dbl&gt;, mc_kay_butte &lt;dbl&gt;,
## #   big_obsidian_flow &lt;dbl&gt;, east_lake_flow &lt;dbl&gt;, quartz_mountain &lt;dbl&gt;,
## #   cougar_mountain &lt;dbl&gt;, silver_sycan &lt;dbl&gt;, brooks_canyon &lt;dbl&gt;, …</code></pre>
</div>
<div id="group_by-and-summarize" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> <code>group_by()</code> and <code>summarize()</code><a href="wrangling-data.html#group_by-and-summarize" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Summarizing needs - logically - a function that will <em>summarize</em> multiple inputs in one. Keep in mind that you are squishing the values of many cells in the first table into a single cell in the second, so <code>summarize()</code> will need some function with which to do so (sum, mean, median, etc).</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="wrangling-data.html#cb42-1" tabindex="-1"></a><span class="co">#grouping and summarizing</span></span>
<span id="cb42-2"><a href="wrangling-data.html#cb42-2" tabindex="-1"></a>drennan6<span class="fl">.1</span>b <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Site) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Incised =</span> <span class="fu">sum</span>(Incised), </span>
<span id="cb42-3"><a href="wrangling-data.html#cb42-3" tabindex="-1"></a>                                             <span class="at">Unincised =</span> <span class="fu">sum</span>(Unincised),</span>
<span id="cb42-4"><a href="wrangling-data.html#cb42-4" tabindex="-1"></a>                                             <span class="at">Units =</span> <span class="fu">length</span>(Unit))</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   Site          Incised Unincised Units
##   &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;
## 1 Cypress Swamp    1408      3969    44
## 2 Maple Knoll      1091      3290    37
## 3 Oak Grove        1815      5281    59</code></pre>
<p>We can combine <code>summarize()</code> and <code>across()</code> to perform the same summary operation on multiple columns. Note that we may need to include an <code>na.rm = T</code> argument if our sums are likely to include <code>NA</code> values and we want to treat those as 0s.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="wrangling-data.html#cb44-1" tabindex="-1"></a>eerk_bysite <span class="ot">&lt;-</span> eerk_comb <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(site) <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="wrangling-data.html#cb44-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(casa_diablo<span class="sc">:</span>whitewater_ridge, sum, <span class="at">na.rm =</span> T))</span>
<span id="cb44-3"><a href="wrangling-data.html#cb44-3" tabindex="-1"></a></span>
<span id="cb44-4"><a href="wrangling-data.html#cb44-4" tabindex="-1"></a>eerk_bysite</span></code></pre></div>
<pre><code>## # A tibble: 3 × 30
##   site    casa_diablo mono_glass_mountain truman_queen fish_springs mono_craters
##   &lt;chr&gt;         &lt;dbl&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1 Bone C…           0                   0            0            0            0
## 2 Mohawk…           0                   0            1            0            0
## 3 Sherwi…         248                  94           32           25            3
## # ℹ 24 more variables: bodie_hills &lt;dbl&gt;, mount_hicks &lt;dbl&gt;, coso &lt;dbl&gt;,
## #   buffalo_hills &lt;dbl&gt;, south_warners &lt;dbl&gt;, bs_pp_fm &lt;dbl&gt;, gf_liw_rs &lt;dbl&gt;,
## #   cowhead_lake &lt;dbl&gt;, cougar_butte &lt;dbl&gt;, buck_mountain &lt;dbl&gt;,
## #   napa_glass_mountain &lt;dbl&gt;, borax_lake &lt;dbl&gt;, obsidian_cliffs &lt;dbl&gt;,
## #   mc_kay_butte &lt;dbl&gt;, big_obsidian_flow &lt;dbl&gt;, east_lake_flow &lt;dbl&gt;,
## #   quartz_mountain &lt;dbl&gt;, cougar_mountain &lt;dbl&gt;, silver_sycan &lt;dbl&gt;,
## #   brooks_canyon &lt;dbl&gt;, glass_buttes &lt;dbl&gt;, burns_butte &lt;dbl&gt;, …</code></pre>
<p>We might also want to consider how many sources contribute flakes in each category. In this case we’ll use an unholy mix of <strong>dplyr</strong> and Base R syntax. Don’t tell.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="wrangling-data.html#cb46-1" tabindex="-1"></a>eerk_comb <span class="ot">&lt;-</span> eerk_comb <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="wrangling-data.html#cb46-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sources_represented =</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(eerk_comb[,<span class="dv">3</span><span class="sc">:</span><span class="dv">31</span>]) <span class="sc">==</span> F))</span></code></pre></div>
<p>This makes it interesting to summarize by other factors than site.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="wrangling-data.html#cb47-1" tabindex="-1"></a>eerk_comb <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(source_artifact) <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="wrangling-data.html#cb47-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">source_diversity =</span> <span class="fu">mean</span>(sources_represented))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   source_artifact           source_diversity
##   &lt;chr&gt;                                &lt;dbl&gt;
## 1 Formal Tools                             5
## 2 Large Flakes                             7
## 3 Small Flakes                            10
## 4 Small Non-pressure Flakes                5
## 5 Small Pressure Flakes                    5</code></pre>
</div>
<div id="pivot_wider-and-pivot_longer" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> <code>pivot_wider()</code> and <code>pivot_longer()</code><a href="wrangling-data.html#pivot_wider-and-pivot_longer" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can also add a bit more data to the mix, in the form of Euclidean distances from sites to obsidian sources.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="wrangling-data.html#cb49-1" tabindex="-1"></a>eerk_dist <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Eerkens2007_distances.csv&quot;</span>)</span></code></pre></div>
<p>These data are of interest because Eerkens and colleagues argue that obsidians that are more and less difficult to procure will not only be more and less common, but also differently represented amongst different kinds of artifacts. These data are, however, in a form that is inconvenient, and in a way that can’t be addressed by simple summary. We could more easily make sense of a table that has, instead of one row for each unique combination of site and source, one row for each <em>site</em>, a column for each source, and a distance in each cell. Moving between these options is commonly called <em>pivoting</em> a table. The tidyverse functions for this are <code>pivot_longer()</code> and <code>pivot_wider()</code>, from the <strong>tidyr</strong> package. The <code>pivot</code> vocabulary and syntax are often incomprehensible, but it’s possible to follow the examples in the vignette that accompanies the package (try <code>vignette("pivot")</code>; many packages include demos [“vignettes”] that are often more obviously helpful than the abstracted info provided by <code>?</code>).</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="wrangling-data.html#cb50-1" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb50-2"><a href="wrangling-data.html#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="wrangling-data.html#cb50-3" tabindex="-1"></a>eerk_dist_summ <span class="ot">&lt;-</span> eerk_dist <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Source, </span>
<span id="cb50-4"><a href="wrangling-data.html#cb50-4" tabindex="-1"></a>                                            <span class="at">values_from =</span> <span class="st">`</span><span class="at">Euclidean Distance</span><span class="st">`</span>)</span></code></pre></div>
<p>Let’s reverse the process, just to see <code>pivot_longer()</code> in action. Here we tell the function to do this with every column except the first one, put the column names in a new column called ‘Source’, and put the values associated with each combination of site and source in a new column called ‘Distance’.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="wrangling-data.html#cb51-1" tabindex="-1"></a>eerk_dist_summ <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>Site, </span>
<span id="cb51-2"><a href="wrangling-data.html#cb51-2" tabindex="-1"></a>                                <span class="at">names_to =</span> <span class="st">&quot;Source&quot;</span>,</span>
<span id="cb51-3"><a href="wrangling-data.html#cb51-3" tabindex="-1"></a>                                <span class="at">values_to =</span> <span class="st">&quot;Distance&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 87 × 3
##    Site      Source              Distance
##    &lt;chr&gt;     &lt;chr&gt;                  &lt;dbl&gt;
##  1 Bone Cave Bodie Hills              670
##  2 Bone Cave Napa Glass Mountain      620
##  3 Bone Cave Borax Lake               580
##  4 Bone Cave Buffalo Hills            380
##  5 Bone Cave BS/PP/FM                 370
##  6 Bone Cave South Warners            350
##  7 Bone Cave Buck Mountain            270
##  8 Bone Cave Cowhead Lake             260
##  9 Bone Cave GF/LIW/RS                280
## 10 Bone Cave Cougar Butte             270
## # ℹ 77 more rows</code></pre>
</div>
<div id="combining-information" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Combining information<a href="wrangling-data.html#combining-information" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have one data frame that tells us how many artifacts of each class came from different sources from the three case-study sites, and another that tells us distances from sites to sources. One thing that we might want is a data frame that gives us distances from sites to <em>used</em> sources (since the distances to unused sources are at best irrelevant and at worst confusing).</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="wrangling-data.html#cb53-1" tabindex="-1"></a>eerk_dist_summ <span class="ot">&lt;-</span> eerk_dist_summ <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>(<span class="st">&quot;snake&quot;</span>)</span>
<span id="cb53-2"><a href="wrangling-data.html#cb53-2" tabindex="-1"></a></span>
<span id="cb53-3"><a href="wrangling-data.html#cb53-3" tabindex="-1"></a><span class="co">#check that names match</span></span>
<span id="cb53-4"><a href="wrangling-data.html#cb53-4" tabindex="-1"></a><span class="fu">compare_df_cols</span>(eerk_bysite, eerk_dist_summ)</span></code></pre></div>
<pre><code>##            column_name eerk_bysite eerk_dist_summ
## 1    big_obsidian_flow     numeric        numeric
## 2          bodie_hills     numeric        numeric
## 3           borax_lake     numeric        numeric
## 4        brooks_canyon     numeric        numeric
## 5             bs_pp_fm     numeric        numeric
## 6        buck_mountain     numeric        numeric
## 7        buffalo_hills     numeric        numeric
## 8          burns_butte     numeric        numeric
## 9          casa_diablo     numeric        numeric
## 10                coso     numeric        numeric
## 11        cougar_butte     numeric        numeric
## 12     cougar_mountain     numeric        numeric
## 13        cowhead_lake     numeric        numeric
## 14      east_lake_flow     numeric        numeric
## 15        fish_springs     numeric        numeric
## 16           gf_liw_rs     numeric        numeric
## 17        glass_buttes     numeric        numeric
## 18        mc_kay_butte     numeric        numeric
## 19        mono_craters     numeric        numeric
## 20 mono_glass_mountain     numeric        numeric
## 21         mount_hicks     numeric        numeric
## 22 napa_glass_mountain     numeric        numeric
## 23     obsidian_cliffs     numeric        numeric
## 24     quartz_mountain     numeric        numeric
## 25      rimrock_spring     numeric        numeric
## 26        silver_sycan     numeric        numeric
## 27                site   character      character
## 28       south_warners     numeric        numeric
## 29        truman_queen     numeric        numeric
## 30    whitewater_ridge     numeric        numeric</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="wrangling-data.html#cb55-1" tabindex="-1"></a><span class="co">#make a binary table (sources used or not)</span></span>
<span id="cb55-2"><a href="wrangling-data.html#cb55-2" tabindex="-1"></a>eerk_bysite_bin <span class="ot">&lt;-</span> eerk_bysite <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>site) <span class="sc">%&gt;%</span> <span class="fu">replace</span>(.<span class="sc">&gt;</span><span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb55-3"><a href="wrangling-data.html#cb55-3" tabindex="-1"></a>  </span>
<span id="cb55-4"><a href="wrangling-data.html#cb55-4" tabindex="-1"></a><span class="co">#multiply binary table by distance table</span></span>
<span id="cb55-5"><a href="wrangling-data.html#cb55-5" tabindex="-1"></a><span class="co">#NA for unused sources</span></span>
<span id="cb55-6"><a href="wrangling-data.html#cb55-6" tabindex="-1"></a>obsid_dist <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">&quot;*&quot;</span>, eerk_bysite_bin, eerk_dist_summ[,<span class="sc">-</span><span class="dv">1</span>]) <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb55-7"><a href="wrangling-data.html#cb55-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">site =</span> eerk_bysite<span class="sc">$</span>site) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(site, <span class="at">.before =</span> casa_diablo) <span class="sc">%&gt;%</span> </span>
<span id="cb55-8"><a href="wrangling-data.html#cb55-8" tabindex="-1"></a>  <span class="fu">replace</span>(. <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">NA</span>)</span>
<span id="cb55-9"><a href="wrangling-data.html#cb55-9" tabindex="-1"></a></span>
<span id="cb55-10"><a href="wrangling-data.html#cb55-10" tabindex="-1"></a>obsid_dist</span></code></pre></div>
<pre><code>##             site casa_diablo mono_glass_mountain truman_queen fish_springs
## 1      Bone Cave          NA                  NA           NA           NA
## 2  Mohawk Valley          NA                  NA          200           NA
## 3 Sherwin Summit         100                 360          390          380
##   mono_craters bodie_hills mount_hicks coso buffalo_hills south_warners
## 1           NA          NA          NA   NA            NA            NA
## 2           NA         150         220   NA           200           230
## 3          400         410         490  500            NA            NA
##   bs_pp_fm gf_liw_rs cowhead_lake cougar_butte buck_mountain
## 1       NA        NA           NA           NA            NA
## 2      370       410          450          450           510
## 3       NA        NA           NA           NA            NA
##   napa_glass_mountain borax_lake obsidian_cliffs mc_kay_butte big_obsidian_flow
## 1                  NA         NA              50           30                40
## 2                 430        430              NA           NA                NA
## 3                  NA         NA              NA           NA                NA
##   east_lake_flow quartz_mountain cougar_mountain silver_sycan brooks_canyon
## 1             40              50             950          820           730
## 2             NA              NA              NA           NA            NA
## 3             NA              NA              NA           NA            NA
##   glass_buttes burns_butte rimrock_spring whitewater_ridge
## 1          730         710            680              720
## 2           NA          NA             NA               NA
## 3           NA          NA             NA               NA</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-payoff.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
